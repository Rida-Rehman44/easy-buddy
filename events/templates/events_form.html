{% extends "base.html" %}
{% block title %} Create Edit Event {% endblock title%}
{% block content %}
    <div class="container">
        <h1>{% if event and not request.user.id == event.admin_user.id %}View Event{% else %}{% if event %}Edit Event{% else %}Create Event{% endif %}{% endif %}</h1>
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="name">Name:</label>
                {{ form.name }}
                {% if form.errors.name %}
                        <div class="text-danger item-name-error">{{ form.errors.name }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="description">Description:</label>
                {{ form.description }}
                {% if form.errors.description %}
                        <div class="text-danger item-name-error">{{ form.errors.description }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="date">Date:</label>
                 <input type="date" class="form-control" id="date" name="date" value="{{ event.date|date:'Y-m-d' }}">
                {% if form.errors.date %}
                        <div class="text-danger item-name-error">{{ form.errors.date }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="time">Time:</label>
                <input type="time" class="form-control" id="time" name="time" value="{{ event.time|time:'H:i' }}">
                {% if form.errors.description %}
                        <div class="text-danger item-name-error">{{ form.errors.time }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="location">Location:</label>
                {{ form.location }}
                {% if form.errors.location %}
                        <div class="text-danger item-name-error">{{ form.errors.location }}</div>
                {% endif %}
            </div>
            <div class="form-group">
                <label for="users">Add Users (comma separated):</label>
                <input type="text" class="form-control" id="users" name="users" placeholder="Enter emails separated by commas" value="{{users}}">
            </div>
            <button type="submit" {% if event and not request.user.id == event.admin_user.id %}disabled{% endif %} class="btn btn-primary">Submit</button>
        </form>
    </div>
{% endblock content %}